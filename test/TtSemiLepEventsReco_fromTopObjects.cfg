process TtEventReco  = {

untracked PSet maxEvents = {untracked int32 input = -1}
	
	# initialize MessageLogger
   	  include "FWCore/MessageLogger/data/MessageLogger.cfi"

   	# input file
          source = PoolSource {
            untracked vstring fileNames =
            {
              "file:/tmp/Layer1output.root"
            }
            untracked uint32 skipEvents = 0
          }

	# Construct the MC Generated Ttbar Event
	  include "TopQuarkAnalysis/TopEventProducers/data/TtGenEvtProducer.cff"
	
	# filter a specific decay chain
 	  include "TopQuarkAnalysis/TopEventProducers/data/TtSemiLeptonicFilter.cfi"
	  
        # apply a kinematic selection on the TopObjects
	  include "TopQuarkAnalysis/TopEventProducers/data/TtSemiObjectSelection_default.cff"
          //replace solutions.matchToGenEvt = false
	  
        # TtSemiEvt solutions
	  include "TopQuarkAnalysis/TopEventProducers/data/TtSemiEvtSolProducer_default.cfi"
	  replace solutions.addLRSignalSel = true
	  replace solutions.addLRJetComb   = true
	  
	# output
          module out = PoolOutputModule {
            untracked string fileName = "/tmp/Layer2output.root"
            untracked vstring outputCommands = {
              "keep *"
            }
            untracked bool verbose = false
          }

	path p = {makeGenEvt, ttSemiLeptonicFilter, objectSelection, solutions}
#	path p = {makeGenEvt, ttFullyHadronicFilter, objectSelection, solutions}
        endpath outpath = { out }	
}
