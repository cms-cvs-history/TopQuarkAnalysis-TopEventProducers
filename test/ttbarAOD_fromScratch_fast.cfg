process TQAF = {

  # initialize MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.cerr.threshold = "INFO"
  # return trigger report (including filter efficiencies)
  # untracked PSet options = { untracked bool wantSummary = true }

  untracked PSet maxEvents = { untracked int32 input = 10 }


  ### FAMOS ###
  include "PhysicsTools/PatAlgos/data/famos/boostrapWithFamos.cff"

  ### TQAF ###

  # TQAF Layer 1 TopObject production
  include "TopQuarkAnalysis/TopObjectProducers/data/TQAFLayer1_fast.cff"

  ### Output ###

  path p = {
    famosWithEverythingPAT,
    tqafLayer1_withoutTrigMatch
  }

  # to only accept events passing the complete path
  block EventSelection = {
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p" }
    }
  }

  include "Configuration/EventContent/data/EventContent.cff"
  // replaces needed for the fast simulation products
  replace AODSIMEventContent.outputCommands += "keep *_*_*_TQAF"

  module out = PoolOutputModule {
    untracked string fileName = "TQAFLayer2Output.root"
    using AODSIMEventContent
    using EventSelection
    untracked bool verbose = false
  }
  endpath outpath = { out }
}
