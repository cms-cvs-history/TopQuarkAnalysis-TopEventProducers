process StEventReco  = {
	
        # The number of events to be processed.
        untracked PSet maxEvents = {untracked int32 input = 30}

	# initialize MessageLogger
   	  include "FWCore/MessageLogger/data/MessageLogger.cfi"
   	  replace MessageLogger.cerr.threshold = "WARNING"

   	# input file
        source = PoolSource {
          untracked vstring fileNames = {
		'/store/RelVal/2007/9/3/RelVal-RelValZTT-1188837971/0002/0279DD81-655A-DC11-8280-0016177CA778.root'
### These were produced with 1_3_1 and will not work in this release:
#                'rfio:/castor/cern.ch/user/g/giamman/SingleTop/reco_simu_0_99_tq_tqb_lhc_mu_0.root'
#                'file:reco_simu_0_99_tq_tqb_lhc_mu_0.root'
#                'rfio:/castor/cern.ch/user/g/giamman/SingleTop/singletop_mu_madgraph.root'
          }
        }


	# Construct the MC Generated Single Top Event, and filter a specific decay chain
	  include "TopQuarkAnalysis/TopEventProducers/data/StGenEvtProducer.cff"

	# perform high level reco tasks
	  include "TopQuarkAnalysis/TopObjectProducers/data/HighLevelReco.cff"

	# build the TopObjects (TopJets, TopMuons, TopElectrons, TopMETs)
	  include "TopQuarkAnalysis/TopObjectProducers/data/TopObjectProducers.cff"
        # apply a kinematic selection on the TopObjects
          include "TopQuarkAnalysis/TopEventProducers/data/TtSemiObjectSelection.cff"

        # TtSemiEvt solutions
	  include "TopQuarkAnalysis/TopEventProducers/data/StEvtSolProducer.cfi"
	  
	  
	
	# output
          module out = PoolOutputModule {
            untracked string fileName = "SingleTopMuEvents.root"
            untracked vstring outputCommands = {
              "drop *",
              "keep *_*_*_TopObjects",
              "keep *_*_*_StEventReco"
            }
            untracked bool verbose = false
          }

	path p = {makeGenEvt, highLevelReco, allTopObjects, objectSelection, solutions}
        endpath outpath = { out }	
}
